<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalabled=no" />
  <title>ì €í¬ ê²°í˜¼í•©ë‹ˆë‹¤ | ìƒë¯¼ â™¥ ì§„í¬</title>

  <!-- OG / ê³µìœ  ì¸ë„¤ì¼ -->
  <meta property="og:title" content="ì €í¬ ê²°í˜¼í•©ë‹ˆë‹¤" />
  <meta property="og:description" content="2025ë…„ 12ì›” 13ì¼ (í† ) ì˜¤í›„ 2ì‹œ Â· ë”ì—ìŠ¤ë¹„ì›¨ë”©ì»¨ë²¤ì…˜" />
  <meta property="og:image" content="https://smjhwedding.github.io/og-1200x630.jpg" />

  <!-- í°íŠ¸ í”„ë¦¬ë¡œë“œ -->
  <link rel="preload" href="./Autography.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="./HakgyoansimGeurimilgiOTFR.otf" as="font" type="font/otf" crossorigin>
  <link rel="preload" href="./HakgyoansimGeurimilgiTTFR.ttf" as="font" type="font/ttf" crossorigin>
  <!-- SVG ì „ìš©: ë£¨íŠ¸ì˜ OTF ì‚¬ìš© -->
  <link rel="preload" href="./Autography.otf" as="font" type="font/otf" crossorigin>

  <link rel="icon" href="/favicon.ico" />

  <style>
    /* ===== Webfonts ===== */
    @font-face {
      font-family: "SUIT Variable";
      src: url("https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/woff2/SUIT-Variable.woff2") format("woff2-variations");
      font-weight: 100 900; font-style: normal; font-display: swap;
    }
    @font-face{
      font-family: "Autography";
      src: url("./Autography.woff2") format("woff2");
      font-weight: 400 800;
      font-style: normal;
      font-display: swap;
    }
    @font-face{
      font-family: "Hakgyoansim Geurimilgi";
      src:
        url("./HakgyoansimGeurimilgiOTFR.otf") format("opentype"),
        url("./HakgyoansimGeurimilgiTTFR.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    /* SVG ì „ìš©: ë£¨íŠ¸ì˜ OTF ì‚¬ìš© */
    @font-face{
      font-family: "AutographySVG";
      src: url("./Autography.otf") format("opentype");
      font-weight: 400 800;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --accent: #edacb1;
      --ink: #313131;
      --bg: #fff;
      --soft-bg: #fff5f9;
      --muted: #777;
      --radius: 14px;
      --shadow: 0 8px 32px rgba(0,0,0,.06);
      --maxw: 420px;   /* 560px â†’ 420px: ëª¨ë°”ì¼ ê¸°ì¤€ ê³ ì • í­ */

      --font-sans: "SUIT Variable", "Noto Sans KR", Apple SD Gothic Neo, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
      --font-fancy: "Autography", "Hakgyoansim Geurimilgi", "SUIT Variable", system-ui, -apple-system, "Noto Sans KR", sans-serif;
    }
    *{box-sizing:border-box}
    html{font-size:16px}
    @media (max-width: 759px) {
      html{ font-size:16px }
    }

    html,body{
      margin:0;padding:0;background:var(--bg);color:var(--ink);
      font-family:var(--font-fancy);-webkit-font-smoothing:antialiased;
      overflow-x:hidden;
    }

    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:18px}

    /* ì„¹ì…˜ ê°„ê²© í™•ëŒ€ */
    .wrap > section{ margin: 36px 0; }            /* ëª¨ë°”ì¼: 30 â†’ 36 */
    @media (min-width:760px){
      .wrap > section{ margin: 48px 0; }          /* ë°ìŠ¤í¬íƒ‘: 38 â†’ 48 */
    }

    /* ===== HERO ===== */
    .hero{
      position:relative;overflow:hidden;border-radius:var(--radius);
      min-height:60vh;background:#000;
      color:#fff; display:flex; align-items:flex-end; justify-content:center; text-align:center; box-shadow:var(--shadow)
    }

    .hero-media{
      position:absolute; inset:0; z-index:0; display:block; width:100%; height:100%; object-fit:cover;
      animation: kenburnsPlus 26s ease-in-out infinite;
      filter:
        brightness(1.04)
        contrast(1.03)
        saturate(1.06)
        drop-shadow(0 12px 40px rgba(0,0,0,.28));
      transform: scale(1.04);
      transform-origin: 50% 60%;
      will-change: transform;
      -webkit-mask-image: radial-gradient(120% 100% at 50% 35%, #000 62%, rgba(0,0,0,0) 100%);
              mask-image: radial-gradient(120% 100% at 50% 35%, #000 62%, rgba(0,0,0,0) 100%);
      -webkit-mask-composite: source-over;
    }
    @keyframes kenburnsPlus{
      0%   { transform: scale(1.06) translate3d(0, 0, 0) rotate(.2deg); transform-origin: 48% 62%; }
      25%  { transform: scale(1.10) translate3d(-1.5%, -1.2%, 0) rotate(-.35deg); transform-origin: 45% 58%; }
      50%  { transform: scale(1.13) translate3d(1.0%, -1.6%, 0) rotate(.35deg);  transform-origin: 55% 52%; }
      75%  { transform: scale(1.10) translate3d(1.4%, 0.6%, 0) rotate(-.2deg);   transform-origin: 52% 66%; }
      100% { transform: scale(1.06) translate3d(0, 0, 0) rotate(.2deg);           transform-origin: 48% 62%; }
    }
    .hero::after{
      content:"";position:absolute;inset:0;
      background:
        radial-gradient(80% 40% at 50% 0%, rgba(0,0,0,.15) 0%, rgba(0,0,0,0) 60%),
        linear-gradient(0deg, rgba(0,0,0,.34) 0%, rgba(0,0,0,.18) 36%, rgba(0,0,0,0) 70%);
      z-index:1
    }

    /* === SVG íƒ€ì´í¬ê·¸ë˜í”¼ === */
    .hero-svg{
      position:absolute; inset:0; width:100%; height:100%;
      pointer-events:none; z-index:2; /* ë‚ ì§œ/ì¥ì†Œ(.hero-inner)ë³´ë‹¤ ì•„ë˜ */
    }
    .hero-svg text{ text-anchor: middle; paint-order: stroke fill; }

    /* ë‚ ì§œ/ì¥ì†Œë¥¼ í•­ìƒ ìœ„ì— */
    .hero-inner{ position:relative; z-index:4; padding:40px 18px 26px }

    /* ìœ„ ë ˆì´ì–´ ì‚´ì§ ë‘¥ë‘¥ */
    .svg-top{ animation: floatTop 8s ease-in-out infinite; }
    @keyframes floatTop{ 0%,100%{ transform: translateY(0px) } 50%{ transform: translateY(2px) } }

    /* ìœ¤ê³½ì„ /ì±„ì›€ */
    .svg-top .stroke{
      fill: transparent;
      stroke: rgba(255,255,255,.98);
      stroke-width: 1.8px;
      stroke-linecap: round; stroke-linejoin: round;
      filter: drop-shadow(0 8px 24px rgba(0,0,0,.35));
      vector-effect: non-scaling-stroke; /* ìŠ¤ì¼€ì¼ë¼ë„ ì„ êµµê¸° ê³ ì • */
    }
    /* ì±„ì›€ìƒ‰: ìƒë‹¨/í•˜ë‹¨ ê°ê¸° ë‹¤ë¥¸ í†¤ */
    .fill-top{    fill:#E6F5EA;  fill-opacity:.98; } /* íŒŒìŠ¤í…” ë¯¼íŠ¸(ë…¹ìŒê³¼ ì¡°í™”) */
    .fill-bottom{ fill:#F6C7D6;  fill-opacity:.98; } /* ì›œ ë¸”ëŸ¬ì‰¬(ìˆ˜íŠ¸/í•‘í¬ ì¡°í™”) */

    /* Autography.otf ê°•ì œ ì‚¬ìš© */
    .hero-svg .fancy{
      font-family: "AutographySVG", "Autography", "Hakgyoansim Geurimilgi", cursive;
      letter-spacing: .02em;
    }

    /* ê¸€ìë³„ ì• ë‹ˆ (ì›í•˜ë©´ ìœ ì§€, ì•„ë‹ˆë©´ ë¬´ì‹œ) */
    .glyph{ opacity:0 }
    .glyph.stroke{
      stroke-dasharray: 1200;
      stroke-dashoffset: 1200;
      animation: drawLetter 3.6s ease forwards;
      animation-delay: calc(var(--i) * 0.42s + .50s);
    }
    .glyph.fill{
      animation: fillLetter 1.4s ease forwards;
      animation-delay: calc(var(--i) * 0.42s + 2.4s);
    }
    @keyframes drawLetter{
      0%   { opacity:1; stroke-dashoffset:1200; filter:blur(.2px) }
      85%  { opacity:1; }
      100% { opacity:1; stroke-dashoffset:0; }
    }
    @keyframes fillLetter{
      from { opacity:0; transform: translateY(4px) scale(1.01); }
      to   { opacity:1; transform: none; }
    }

    /* ë‚ ì§œ/ì¥ì†Œ */
    .date-plain{
      color:#fff; line-height:1.42; display:inline-block; font-weight:500;
      text-shadow: 0 2px 6px rgba(0,0,0,.35);
    }
    .date-plain .d1, .date-plain .d2{ display:block }
    .date-plain .d1{ font-size:1.08rem }
    .date-plain .d2{ font-size:1.0rem; opacity:.98 }

    /* D-day ë±ƒì§€ */
    .dday-badge{
      position:absolute;top:10px;left:50%;transform:translateX(-50%);
      z-index:4;background:rgba(0,0,0,.34); border:1px solid rgba(255,255,255,.45);
      padding:6px 10px;border-radius:999px;font-size:.78rem;backdrop-filter: blur(6px);
      color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.35);
    }

    /* ===== ê¸°íƒ€ ê³µí†µ ===== */
    h2.section-title{ text-align:center; margin:22px 0 8px; color:var(--accent); font-weight:400; letter-spacing:.02em;font-size:1.2rem; }
    .card{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;margin:10px 0;}
    .grid{display:grid;gap:12px}
    @media (min-width: 760px){
      .grid.cols-2{grid-template-columns:1fr 1fr}
      .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    }
    .muted{color:var(--muted)}
    .center{text-align:center}
    .small{font-size:1rem}
    .btn{ display:inline-flex;align-items:center;justify-content:center;gap:8px; padding:12px 14px;border-radius:10px;background:var(--accent);color:#313131;font-weight:700;border:none;cursor:pointer; box-shadow:0 6px 18px rgba(237,172,177,.35);font-size:.92rem;white-space:nowrap; }
    .btn.ghost{background:#fff;border:1px solid #eee;box-shadow:none}
    .btns{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
    .divider{height:1px;background:linear-gradient(90deg,transparent,#eee,transparent);margin:12px 0}
    details{border-radius:12px;padding:0;overflow:hidden;border:none}
    details summary{cursor:pointer;list-style:none;font-weight:800;display:flex;align-items:center;justify-content:space-between;font-size:.95rem;padding:12px 14px;}
    details .rows{padding:8px 14px 12px}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .copy{font-size:.78rem;border:1px dashed #7774;border-radius:999px;padding:4px 8px;cursor:pointer}
    details.groom{ background: #eaf6ff; border:1px solid #d5ecff }
    details.bride{ background: #fff0f5; border:1px solid #ffe1ea }
    .countdown{display:flex;justify-content:center;gap:6px;margin-top:4px}
    .cd-box{width:70px;height:70px;border-radius:12px;background:#fff;box-shadow:var(--shadow);display:flex;flex-direction:column;align-items:center;justify-content:center}
    .cd-number{font-size:1.16rem;font-weight:800}
    .cd-label{font-size:.7rem;color:var(--muted)}
    .gallery{display:grid;grid-template-columns:repeat(3,1fr);gap:6px}
    .gallery picture{ display:block; aspect-ratio: 3 / 4; }
    .gallery picture > img{ width:100%; height:100%; object-fit:cover; display:block; }
    .gallery img{width:100%;aspect-ratio:3/4;object-fit:cover;border-radius:10px;cursor:pointer}
    .no-save{ -webkit-user-drag: none; user-select:none; -webkit-user-select:none }
    .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.85);display:none;align-items:center;justify-content:center;z-index:50}
    .lightbox.open{display:flex}
    .lightbox .lb-inner{position:relative;max-width:92vw;max-height:86vh;display:flex;align-items:center;justify-content:center}
    .lightbox img{max-width:92vw;max-height:86vh;border-radius:12px;box-shadow:0 8px 40px rgba(0,0,0,.5);object-fit:contain;touch-action:none;}
    .lightbox .prev, .lightbox .next{
      position:absolute; top:50%; transform:translateY(-50%);
      width:44px;height:44px;border-radius:999px;background:rgba(255,255,255,.22);border:1px solid rgba(255,255,255,.55);
      display:flex;align-items:center;justify-content:center;font-size:22px;color:#fff;cursor:pointer;user-select:none;backdrop-filter:blur(4px)
    }
    .lightbox .prev{ left:-54px } .lightbox .next{ right:-54px }
    @media (max-width: 560px){
      .lightbox .prev{ left:8px } .lightbox .next{ right:8px }
      .lightbox .prev, .lightbox .next{ width:48px; height:48px; font-size:24px }
    }

    /* === INTERVIEW: ì œëª©/ë¶€ì œëŠ” ë‹¤ë¥¸ ì„¹ì…˜ê³¼ ê¸€ì í¬ê¸° ì¼ì¹˜ === */
    .interview{ padding:8px 8px; background:#fff7fa; border-radius:14px }
    .interview .title{
      text-align:center;
      margin:22px 0 8px;
      color:var(--accent);
      letter-spacing:.02em;
      font-weight:400;
      font-size:1.2rem; /* h2.section-titleì™€ ë™ì¼ */
    }
    .interview .subtitle{
      text-align:center;
      margin:0 0 6px 0;
      color:var(--muted);
      font-size:1rem;   /* .small ê³¼ ë™ì¼ */
      font-weight:400;
    }
    .interview-inner{ max-width:460px; margin:0 auto; }

    /* === ì¸í„°ë·° ë³¸ë¬¸(ì§ˆë¬¸/ì´ë¦„/ë§í’ì„  í…ìŠ¤íŠ¸) 0.7ë°° ì¶•ì†Œ === */
    .inter-q{
      font-size: calc(1.8rem * .7);   /* 1.26rem */
      margin:4px 0 4px;
      text-align:center;
      font-weight:800;
    }
    .bubble_container{ display:grid; gap:2px; padding:0 0; margin:0 0 6px 0; }
    .bubble_box{ display:flex;flex-direction:column;gap:1px; width:72%; margin:0 auto; opacity:0; transform:translateY(8px); transition:opacity .22s ease, transform .22s ease; }
    .bubble_box.show { opacity:1; transform:none }
    .bubble_box .name{
      font-weight:900;
      font-size: calc(1.64rem * .7);  /* â‰ˆ1.148rem */
      color:#777;
      line-height:1.12;
    }
    .bubble_text{
      display:inline-block;border-radius:12px;
      padding: calc(12px * .7) calc(14px * .7); /* 8.4px 9.8px */
      font-size: calc(1.8rem * .7);   /* 1.26rem */
      line-height:1.44;
      box-shadow:var(--shadow);
      max-width:100%;
    }
    .bubble_box.left{ align-items:flex-start; }
    .bubble_box.right{ align-items:flex-end; }
    .left .bubble_text{ background:#eaf6ff }
    .right .bubble_text{ background:var(--accent); color:#313131 }

    /* ì‘ì€ í™”ë©´ì—ì„œë„ ë¹„ìœ¨ ìœ ì§€(ì›ë˜ ëª¨ë°”ì¼ ê°’ì˜ 0.7ë°°) */
    @media (max-width:430px){
      .inter-q{
        font-size: calc(1.6rem * .7);   /* 1.12rem */
        margin:6px 0 4px;
      }
      .bubble_container{ gap:2px; margin-bottom:6px }
      .bubble_box{ width:82%; }
      .bubble_text{
        font-size: calc(1.6rem * .7);   /* 1.12rem */
        padding: calc(10px * .7) calc(12px * .7); /* 7px 8.4px */
        line-height:1.4;
      }
      .bubble_box .name{
        font-size: calc(1.48rem * .7);  /* â‰ˆ1.036rem */
      }
    }

    /* Invitation */
    #invitation .poem{ font-size:1.02rem; line-height:1.45; white-space:pre-line; margin:0; }
    #invitation .small{ font-size:1.0rem }

    /* Icons / Navi */
    .icon-chry{ display:inline-flex; vertical-align:-2px; margin-right:4px }
    .icon-chry svg{ width:1.05em; height:1.05em; }
    .navi{ display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; align-items:center; justify-items:center; }
    .navi .btn{ width:100%; flex:none; padding:10px 8px; font-size:.9rem; min-width:0; }

    /* Footer */
    footer{padding:22px 0 14px;text-align:center;color:var(--muted);font-size:.9rem}

    /* Spark layer */
    .spark-layer{position:absolute; inset:0; z-index:2; pointer-events:none; overflow:hidden}
    .spark-layer canvas{position:absolute; inset:0; width:100%; height:100%; filter:blur(.4px)}

    /* ===== ëª¨ë°”ì¼ì—ì„œ .card.center ë°•ìŠ¤ ëŠë‚Œ ì œê±° ===== */
    @media (max-width: 759px){
      .card.center{
        background: transparent;
        box-shadow: none;
        border-radius: 0;
        padding: 0;
        margin: 0; /* ì¹´ë“œ ìì²´ ì—¬ë°±ë„ ì œê±°í•´ ë” ìì—°ìŠ¤ëŸ½ê²Œ */
      }
    }
  </style>
</head>
<body>

  <header class="wrap">
    <div class="hero">
      <picture>
        <source data-srcset="
          https://smjhwedding.github.io/hero-1920.avif 1920w,
          https://smjhwedding.github.io/hero-1280.avif 1280w,
          https://smjhwedding.github.io/hero-768.avif 768w
        " type="image/avif" sizes="100vw">
        <source data-srcset="
          https://smjhwedding.github.io/hero-1920.webp 1920w,
          https://smjhwedding.github.io/hero-1280.webp 1280w,
          https://smjhwedding.github.io/hero-768.webp 768w
        " type="image/webp" sizes="100vw">
        <img
          class="hero-media"
          src="./KakaoTalk_20250907_195152669.jpg"
          alt=""
          width="1920" height="1080"
          fetchpriority="high" decoding="async">
      </picture>

      <div class="dday-badge" id="ddayTop">D-90</div>

      <!-- === SVG íƒ€ì´í‹€ === -->
      <svg class="hero-svg" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid slice" aria-hidden="true">
        <defs>
          <!-- ìœ„ìª½ ê³¡ì„  í˜ì´ë“œ ë§ˆìŠ¤í¬ -->
          <radialGradient id="loveGrad" cx="50%" cy="35%" r="75%">
            <stop offset="0%"   stop-color="white"/>
            <stop offset="62%"  stop-color="white"/>
            <stop offset="100%" stop-color="black"/>
          </radialGradient>
          <mask id="heroMask" maskUnits="userSpaceOnUse">
            <rect x="0" y="0" width="1000" height="600" fill="black"/>
            <rect x="70" y="0" width="860" height="600" fill="url(#loveGrad)"/>
          </mask>
          <!-- ì¢Œìš° 70px íŒ¨ë”© ì˜ì—­ë§Œ ë³´ì´ê²Œ -->
          <clipPath id="photoClip" clipPathUnits="userSpaceOnUse">
            <rect x="70" y="0" width="860" height="600"/>
          </clipPath>
        </defs>

        <!-- ìƒë‹¨: Love -->
        <g class="svg-top fancy" mask="url(#heroMask)" clip-path="url(#photoClip)">
          <!-- ìœ¤ê³½ì„  -->
          <text x="500" y="80" class="stroke"  lengthAdjust="spacing" textLength="300" style="font-weight:700; font-size:60px;">
            <tspan class="glyph stroke" style="--i:0">L</tspan>
            <tspan class="glyph stroke" style="--i:1">o</tspan>
            <tspan class="glyph stroke" style="--i:2">v</tspan>
            <tspan class="glyph stroke" style="--i:3">e</tspan>
          </text>
          <!-- ì±„ì›€(ë…¹ìŒê³¼ ì¡°í™”ë˜ëŠ” íŒŒìŠ¤í…” ë¯¼íŠ¸) -->
          <text x="500" y="80" class="fill-top" lengthAdjust="spacing" textLength="300" style="font-weight:700; font-size:60px;">
            <tspan class="glyph fill" style="--i:0">L</tspan>
            <tspan class="glyph fill" style="--i:1">o</tspan>
            <tspan class="glyph fill" style="--i:2">v</tspan>
            <tspan class="glyph fill" style="--i:3">e</tspan>
          </text>
        </g>

        <!-- í•˜ë‹¨: EachOther (ë‚ ì§œ/ì¥ì†Œë¥¼ ê°€ë¦¬ì§€ ì•Šë„ë¡ yâ‰ˆ420) -->
        <g class="svg-top fancy" mask="url(#heroMask)" clip-path="url(#photoClip)">
          <!-- ìœ¤ê³½ì„  -->
          <text x="500" y="480" class="stroke" lengthAdjust="spacing" textLength="300" style="font-weight:700; font-size:40px;">
            <tspan class="glyph stroke" style="--i:0">E</tspan>
            <tspan class="glyph stroke" style="--i:1">a</tspan>
            <tspan class="glyph stroke" style="--i:2">c</tspan>
            <tspan class="glyph stroke" style="--i:3">h</tspan>
            <tspan class="glyph stroke" style="--i:4">o</tspan>
            <tspan class="glyph stroke" style="--i:5">t</tspan>
            <tspan class="glyph stroke" style="--i:6">h</tspan>
            <tspan class="glyph stroke" style="--i:7">e</tspan>
            <tspan class="glyph stroke" style="--i:8">r</tspan>
          </text>
          <!-- ì±„ì›€(ìˆ˜íŠ¸/í•‘í¬ ë“œë ˆìŠ¤ì™€ ì¡°í™”ë˜ëŠ” ì›œ ë¸”ëŸ¬ì‰¬) -->
          <text x="500" y="480" class="fill-bottom" lengthAdjust="spacing" textLength="300" style="font-weight:700; font-size:40px;">
            <tspan class="glyph fill" style="--i:0">E</tspan>
            <tspan class="glyph fill" style="--i:1">a</tspan>
            <tspan class="glyph fill" style="--i:2">c</tspan>
            <tspan class="glyph fill" style="--i:3">h</tspan>
            <tspan class="glyph fill" style="--i:4">o</tspan>
            <tspan class="glyph fill" style="--i:5">t</tspan>
            <tspan class="glyph fill" style="--i:6">h</tspan>
            <tspan class="glyph fill" style="--i:7">e</tspan>
            <tspan class="glyph fill" style="--i:8">r</tspan>
          </text>
        </g>
      </svg>

      <!-- === /SVG íƒ€ì´í‹€ === -->
      <div class="spark-layer" id="sparkLayer"></div>

      <!-- ë‚ ì§œ/ì¥ì†Œ(í•˜ë‹¨): ê·¸ëŒ€ë¡œ ìœ ì§€ -->
      <div class="hero-inner">
        <div class="date-plain" aria-label="ì¼ì‹œì™€ ì¥ì†Œ">
          <span class="d1">2025ë…„ 12ì›” 13ì¼&nbsp;&nbsp;(í† ) ì˜¤í›„ 2ì‹œ</span>
          <span class="d2">ë”ì—ìŠ¤ë¹„ì›¨ë”©ì»¨ë²¤ì…˜</span>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <!-- INVITATION -->
    <section id="invitation" class="card center">
      <h2 class="section-title">INVITATION</h2>
      <p class="small poem">ë´„ì²˜ëŸ¼ í¬ê·¼í•˜ê³  ì—¬ë¦„ì²˜ëŸ¼ ëœ¨ê²ê³ 
ê°€ì„ì²˜ëŸ¼ ì¶©ë§Œí•˜ê³  ê²¨ìš¸ì²˜ëŸ¼ ì„¤ë ˆëŠ”
ì‚¬ëŒì„ ë§Œë‚¬ìŠµë‹ˆë‹¤.
ì´ì œ ì„œë¡œì˜
ëª¨ë“  ê³„ì ˆì„ ì§€ë‚˜ë ¤ í•©ë‹ˆë‹¤.
ê°€ì¥ ë¹›ë‚˜ëŠ” ë‚ , ëŠ˜ ê³ì—ì„œ ì•„ê»´ì¤€
ê³ ë§ˆìš´ ë¶„ë“¤ì„ ì´ˆëŒ€í•©ë‹ˆë‹¤.</p>
      <div class="divider"></div>
      <div class="small">
        <p><span class="muted">ì´ì œì˜, ìœ¤í˜œì •ì˜ ì•„ë“¤</span> <b>ì‹ ë‘ ì´ìƒë¯¼</b></p>
        <p>
          <span class="muted">
            <span class="icon-chry" aria-hidden="true">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-label="êµ­í™”">
                <circle cx="24" cy="24" r="4.5" fill="#ffdf7e"/>
                <g fill="#f2b7c0">
                  <circle cx="24" cy="10" r="5.2"/>
                  <circle cx="36.5" cy="14.5" r="4.8"/>
                  <circle cx="40" cy="26" r="5.4"/>
                  <circle cx="31.5" cy="36" r="5.1"/>
                  <circle cx="16.5" cy="36" r="5.1"/>
                  <circle cx="8" cy="26" r="5.4"/>
                  <circle cx="11.5" cy="14.5" r="4.8"/>
                </g>
                <g fill="#ffd6de" opacity=".95">
                  <circle cx="24" cy="6.5" r="3.2"/>
                  <circle cx="39.5" cy="12" r="3.0"/>
                  <circle cx="42" cy="26" r="3.2"/>
                  <circle cx="33.5" cy="39" r="3.1"/>
                  <circle cx="14.5" cy="39" r="3.1"/>
                  <circle cx="6" cy="26" r="3.2"/>
                  <circle cx="8.5" cy="12" r="3.0"/>
                </g>
              </svg>
            </span>
            ì´ì¢…ëª…, ì´ì •ì—°ì˜ ë”¸
          </span>
          <b> ì‹ ë¶€ ì´ì§„í¬</b>
        </p>
      </div>
    </section>

    <!-- ACCOUNT NUMBER -->
    <section class="account">
      <h2 class="section-title">ACCOUNT NUMBER</h2>
      <p class="small center muted">ë¶€ë‹´ ê°–ì§€ ì•Šìœ¼ì…”ë„ ë©ë‹ˆë‹¤.<br>í•„ìš”í•˜ì‹  ë¶„ë§Œ ì´ìš©í•´ì£¼ì„¸ìš”.</p>

      <div class="grid cols-2">
        <details class="groom">
          <summary>ì‹ ë‘ì¸¡ <span>â–¼</span></summary>
          <div class="rows small">
            <div class="row" style="justify-content:flex-start"><b>ì‹ ë‘ ê³„ì¢Œ</b></div>
            <div class="row" style="justify-content:flex-start">ì¹´ì¹´ì˜¤ë±…í¬ <span class="muted">(ì˜ˆê¸ˆì£¼ : ì´ìƒë¯¼)</span></div>
            <div class="row"><span>ê³„ì¢Œë²ˆí˜¸</span> <span class="copy" data-copy="79421200552">79421200552</span></div>

            <div class="divider"></div>

            <div class="row" style="justify-content:flex-start"><b>ì‹ ë‘í˜¼ì£¼ ê³„ì¢Œ</b></div>
            <div class="row" style="justify-content:flex-start">ê¸°ì—…ì€í–‰ <span class="muted">(ì˜ˆê¸ˆì£¼ : ì´ì œì˜)</span></div>
            <div class="row"><span>ê³„ì¢Œë²ˆí˜¸</span> <span class="copy" data-copy="010-520307-25">010-520307-25</span></div>

            <div class="row" style="justify-content:flex-start; margin-top:6px">ìš°ë¦¬ì€í–‰ <span class="muted">(ì˜ˆê¸ˆì£¼ : ìœ¤í˜œì •)</span></div>
            <div class="row"><span>ê³„ì¢Œë²ˆí˜¸</span> <span class="copy" data-copy="1002-447-128328">1002-447-128328</span></div>
          </div>
        </details>

        <details class="bride">
          <summary>ì‹ ë¶€ì¸¡ <span>â–¼</span></summary>
          <div class="rows small">
            <div class="row" style="justify-content:flex-start"><b>ì‹ ë¶€ ê³„ì¢Œ</b></div>
            <div class="row" style="justify-content:flex-start">í•˜ë‚˜ì€í–‰ <span class="muted">(ì˜ˆê¸ˆì£¼ : ì´ì§„í¬)</span></div>
            <div class="row"><span>ê³„ì¢Œë²ˆí˜¸</span> <span class="copy" data-copy="73291008224907">73291008224907</span></div>

            <div class="divider"></div>

            <div class="row" style="justify-content:flex-start"><b>ì‹ ë¶€í˜¼ì£¼ ê³„ì¢Œ</b></div>
            <div class="row" style="justify-content:flex-start">ì§€ì—­ë†ì¶•í˜‘ <span class="muted">(ì˜ˆê¸ˆì£¼ : ì´ì •ì—°)</span></div>
            <div class="row"><span>ê³„ì¢Œë²ˆí˜¸</span> <span class="copy" data-copy="13003652103656">13003652103656</span></div>
          </div>
        </details>
      </div>
    </section>

    <!-- D-DAY -->
    <section class="card center" id="dday">
      <h2 class="section-title">D-DAY</h2>
      <p class="small">ìƒë¯¼ â™¥ ì§„í¬ ê²°í˜¼ì‹ì´ <b><span id="dtext">90ì¼</span></b> ë‚¨ì•˜ìŠµë‹ˆë‹¤.</p>
      <div class="countdown" role="timer" aria-live="polite">
        <div class="cd-box"><div class="cd-number" id="cd-days">0</div><div class="cd-label">DAYS</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-hours">0</div><div class="cd-label">HOURS</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-mins">0</div><div class="cd-label">MINUTES</div></div>
        <div class="cd-box"><div class="cd-number" id="cd-secs">0</div><div class="cd-label">SECONDS</div></div>
      </div>
    </section>

    <!-- GALLERY -->
    <section>
      <h2 class="section-title">GALLERY</h2>
      <p class="small muted center">ì‚¬ì§„ì„ í´ë¦­í•˜ë©´ í¬ê²Œ ë³¼ ìˆ˜ ìˆì–´ìš”.<br>ì¢Œìš° í™”ì‚´í‘œë¡œ ë„˜ê¸¸ ìˆ˜ ìˆì–´ìš”.</p>
      <div class="gallery card" id="gallery">
        <picture>
          <source data-srcset="
            https://smjhwedding.github.io/gallery1-1024.avif 1024w,
            https://smjhwedding.github.io/gallery1-768.avif 768w,
            https://smjhwedding.github.io/gallery1-512.avif 512w
          " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
          <source data-srcset="
            https://smjhwedding.github.io/gallery1-1024.webp 1024w,
            https://smjhwedding.github.io/gallery1-768.webp 768w,
            https://smjhwedding.github.io/gallery1-512.webp 512w
          " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
          <img class="no-save"
               src="./KakaoTalk_20250908_010410211_01.jpg"
               data-full="./KakaoTalk_20250908_010410211_01.jpg"
               alt="gallery1"
               width="1024" height="1365"
               loading="lazy" decoding="async"
               draggable="false" oncontextmenu="return false" onmousedown="return false">
        </picture>

        <picture>
          <source data-srcset="
            https://smjhwedding.github.io/gallery2-1024.avif 1024w,
            https://smjhwedding.github.io/gallery2-768.avif 768w,
            https://smjhwedding.github.io/gallery2-512.avif 512w
          " type="image/avif" sizes="(min-width:760px) 33vw, 33vw">
          <source data-srcset="
            https://smjhwedding.github.io/gallery2-1024.webp 1024w,
            https://smjhwedding.github.io/gallery2-768.webp 768w,
            https://smjhwedding.github.io/gallery2-512.webp 512w
          " type="image/webp" sizes="(min-width:760px) 33vw, 33vw">
          <img class="no-save"
               src="./KakaoTalk_20250908_010410211.jpg"
               data-full="./KakaoTalk_20250908_010410211.jpg"
               alt="gallery2"
               width="1024" height="1365"
               loading="lazy" decoding="async"
               draggable="false" oncontextmenu="return false" onmousedown="return false">
        </picture>
      </div>

      <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
        <div class="lb-inner">
          <div class="prev" id="lbPrev" aria-label="ì´ì „">â€¹</div>
          <img class="no-save" alt="preview" draggable="false" oncontextmenu="return false" onmousedown="return false">
          <div class="next" id="lbNext" aria-label="ë‹¤ìŒ">â€º</div>
        </div>
      </div>
    </section>

    <!-- INTERVIEW -->
    <section class="card interview" id="interview">
      <div class="interview-inner">
        <h3 class="title">INTERVIEW</h3>
        <p class="subtitle">ì„œë¡œë¥¼ ë” ê°€ê¹Œì´</p>

        <p class="inter-q">í•¸ë“œí°ì— ì €ì¥ëœ ì´ë¦„ì€?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">ìƒë¯¼</p>
            <div class="bubble_wrapper"><p class="bubble_text">ì°Œë‹ˆí”„ âœ¨</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">ì§„í¬</p>
            <div class="bubble_wrapper"><p class="bubble_text">ë³´ìŠ¤ë¯¸ë‹ˆ ğŸŒŸ</p></div>
          </div>
        </div>

        <p class="inter-q">ì²˜ìŒ ë³¸ ìˆœê°„ ëŠë‚Œ?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">ìƒë¯¼</p>
            <div class="bubble_wrapper"><p class="bubble_text">í•´ë§‘ê²Œ ì›ƒëŠ” ëª¨ìŠµì´ ì¢‹ì•˜ì–´ ğŸâ˜ºï¸</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">ì§„í¬</p>
            <div class="bubble_wrapper"><p class="bubble_text">ë¶€ë“œëŸ¬ìš´ ë¯¸ì†Œê°€ ì¢‹ì•˜ì–´ â˜€ï¸ğŸ˜Š</p></div>
          </div>
        </div>

        <p class="inter-q">ë‚´ ë§¤ë ¥ í¬ì¸íŠ¸ëŠ”?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">ìƒë¯¼</p>
            <div class="bubble_wrapper"><p class="bubble_text">ì™„ë²½í•œ ì„±ëŒ€ëª¨ì‚¬ ğŸ­ğŸ™ï¸</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">ì§„í¬</p>
            <div class="bubble_wrapper"><p class="bubble_text">ì˜ì˜¥ ë“¤ì–´ê°€ëŠ” ë³´ì¡°ê°œ ğŸ˜Šâœ¨</p></div>
          </div>
        </div>

        <p class="inter-q">ë‚´ê°€ ì œì¼ ì¢‹ì•„í•˜ëŠ” ìŒì‹ì€?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">ìƒë¯¼</p>
            <div class="bubble_wrapper"><p class="bubble_text">ì—„ì²­ ë¹µìˆœì´! ğŸ¥ğŸğŸ¥¨</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">ì§„í¬</p>
            <div class="bubble_wrapper"><p class="bubble_text">ë˜! ë˜!! ë˜!!! ì œìœ¡ ğŸ–ğŸ”¥ğŸš</p></div>
          </div>
        </div>

        <p class="inter-q">10ë…„ ë’¤ ìš°ë¦¬ ëª¨ìŠµì€?</p>
        <div class="bubble_container">
          <div class="bubble_box left">
            <p class="name">ìƒë¯¼</p>
            <div class="bubble_wrapper"><p class="bubble_text">ì•„ì´ì™€ í•¨ê»˜ ë³´ë“œê²Œì„ í•˜ê¸° ğŸ²ğŸ§©</p></div>
          </div>
          <div class="bubble_box right">
            <p class="name">ì§„í¬</p>
            <div class="bubble_wrapper"><p class="bubble_text">ê°€ì¡± ëª¨ë‘ ìœ ë‹ˆí¼ ì…ê³  ì•¼êµ¬ì¥ ì§ê´€í•˜ê¸° âš¾ï¸ğŸŸï¸</p></div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCATION -->
    <section>
      <h2 class="section-title">LOCATION</h2>
      <div class="card">
        <p class="center"><b>ë”ì—ìŠ¤ë¹„ì›¨ë”©ì»¨ë²¤ì…˜</b><br><span class="small muted">ì„œìš¸ ë™ì‘êµ¬ ë³´ë¼ë§¤ë¡œ5ê¸¸ 15</span></p>
        <div id="map" class="map" role="img" aria-label="ì˜ˆì‹ì¥ ì§€ë„"></div>
        <div class="navi">
          <a class="btn ghost" target="_blank"
            href="https://map.kakao.com/link/search/%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015"
            rel="noopener">ì¹´ì¹´ì˜¤ë§µ</a>
          <a class="btn ghost" target="_blank"
            href="https://map.naver.com/p/search/%EC%84%9C%EC%9A%B8%20%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015"
            rel="noopener">ë„¤ì´ë²„ì§€ë„</a>
          <a class="btn ghost" target="_blank"
            href="https://maps.google.com/?q=%EC%84%9C%EC%9A%B8%20%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015%20%EB%8D%94%EC%97%90%EC%8A%A4%EB%B9%84%EC%9B%A8%EB%94%A9%EC%BB%A8%EB%B2%84%EC%85%98"
            rel="noopener">êµ¬ê¸€ì§€ë„</a>
        </div>
      </div>
    </section>

    <!-- ICS / ìº˜ë¦°ë” ë²„íŠ¼ -->
    <section class="center" style="margin-top:12px">
      <div class="btns" style="justify-content:center">
        <a class="btn" id="btnAppleSamsung" href="#">ì•„ì´í°/ì‚¼ì„± ìº˜ë¦°ë”ë¡œ ì¶”ê°€</a>
        <a class="btn ghost" id="btnGoogle" target="_blank" rel="noopener">êµ¬ê¸€ ìº˜ë¦°ë”ë¡œ ì—´ê¸°</a>
      </div>
      <p class="small muted" style="margin-top:6px">
        ë‹¤ìš´ë¡œë“œê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë˜ì§€ ì•Šìœ¼ë©´<br>
        <a id="btnIcsDownload" href="https://smjhwedding.github.io/sangmin-jinhee-wedding-2025-12-13.ics" download="sangmin-jinhee-wedding-2025-12-13.ics">ICS íŒŒì¼ ì§ì ‘ ë‹¤ìš´ë¡œë“œ</a>
      </p>
      <p class="small muted" id="dlHint" style="margin-top:4px; display:none"></p>
    </section>

  </main>

  <footer>
    <div class="wrap small">
      Â© 2025 SANG MIN â™¥ JIN HEE
    </div>
  </footer>

  <script>
  document.addEventListener('DOMContentLoaded', () => {
    /* prodì—ì„œ webp/avif srcset í™œì„±í™” + í”„ë¦¬ë¡œë“œ */
    const isProd = location.hostname === 'smjhwedding.github.io';
    if (isProd) {
      document.querySelectorAll('source[data-srcset]').forEach(s => {
        s.setAttribute('srcset', s.getAttribute('data-srcset'));
      });
      const l = document.createElement('link');
      l.rel = 'preload'; l.as = 'image';
      l.href = 'https://smjhwedding.github.io/hero-1280.webp';
      l.setAttribute('imagesrcset', 'https://smjhwedding.github.io/hero-768.webp 768w, https://smjhwedding.github.io/hero-1280.webp 1280w, https://smjhwedding.github.io/hero-1920.webp 1920w');
      l.setAttribute('imagesizes', '100vw');
      document.head.appendChild(l);
    }

    /* ì¸í„°ë·° reveal */
    const interTargets = document.querySelectorAll('#interview .inter-q, #interview .bubble_box');
    interTargets.forEach(el => { el.style.removeProperty('opacity'); el.style.removeProperty('transform'); });
    const io = new IntersectionObserver((ents)=>ents.forEach(e=>e.target.classList.toggle('show', e.isIntersecting)), { threshold: 0.12, rootMargin: '0px 0px -6% 0px' });
    [...interTargets].forEach(el=> io.observe(el));

    /* ì§€ë„ */
    function initKakaoMap(){
      if(!window.kakao || !kakao.maps) return;
      const container = document.getElementById('map');
      const center = new kakao.maps.LatLng(37.490617, 126.921312);
      const map = new kakao.maps.Map(container, { center, level: 4 });
      new kakao.maps.Marker({ map, position: center });
    }
    if (document.getElementById('map')) {
      if (window.kakao && kakao.maps) initKakaoMap();
      else {
        document.getElementById('map').innerHTML =
          '<iframe title="map" width="100%" height="300" style="border:0" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="https://maps.google.com/maps?q=%EC%84%9C%EC%9A%B8%20%EB%8F%99%EC%9E%91%EA%B5%AC%20%EB%B3%B4%EB%9D%BC%EB%A7%A4%EB%A1%9C5%EA%B8%B8%2015&t=m&z=16&output=embed"></iframe>';
      }
    }

    /* D-DAY */
    const target = new Date("2025-12-13T14:00:00+09:00").getTime();
    const dtext  = document.getElementById('dtext');
    const el = {
      d: document.getElementById('cd-days'),
      h: document.getElementById('cd-hours'),
      m: document.getElementById('cd-mins'),
      s: document.getElementById('cd-secs'),
    };
    function refreshDday(diffMs){
      const sec = Math.floor(diffMs/1000);
      const d = Math.floor(sec/86400);
      const h = Math.floor((sec%86400)/3600);
      const m = Math.floor((sec%3600)/60);
      const s = sec%60;
      el.d.textContent = d; el.h.textContent = h; el.m.textContent = m; el.s.textContent = s;
      if (dtext) dtext.textContent = d + "ì¼";
      const top = document.getElementById('ddayTop');
      if (top) top.textContent = "D-" + d;
    }
    function tick(){ const now = Date.now(); let diff = Math.max(0, target - now); refreshDday(diff); }
    tick(); setInterval(tick, 1000);

    /* ë³µì‚¬ ë²„íŠ¼ */
    document.addEventListener('click', (e)=>{
      const btn = e.target.closest('.copy');
      if(!btn) return;
      const text = btn.dataset.copy || btn.textContent.trim();
      navigator.clipboard.writeText(text).then(()=>{
        if (!btn.dataset.old) btn.dataset.old = btn.textContent;
        btn.textContent = 'ë³µì‚¬ë¨';
        setTimeout(()=>{ btn.textContent = btn.dataset.old || text; delete btn.dataset.old; }, 1200);
      });
    });

    /* ë¼ì´íŠ¸ë°•ìŠ¤ */
    const thumbs = Array.from(document.querySelectorAll('#gallery picture img'));
    const lb = document.getElementById('lightbox');
    const lbImg = lb.querySelector('img');
    const prevBtn = document.getElementById('lbPrev');
    const nextBtn = document.getElementById('lbNext');
    let idx = 0, touchStartX = 0;

    function openAt(i){
      idx = (i + thumbs.length) % thumbs.length;
      const t = thumbs[idx];
      const full = t.getAttribute('data-full');
      lbImg.src = full || t.currentSrc || t.src;
      lb.classList.add('open');
    }
    function closeLb(){ lb.classList.remove('open'); lbImg.src = ''; }
    function next(){ openAt(idx+1) }
    function prev(){ openAt(idx-1) }

    thumbs.forEach((img,i)=> img.addEventListener('click', ()=> openAt(i)));
    lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLb(); });
    document.addEventListener('keydown', (e)=>{
      if(!lb.classList.contains('open')) return;
      if(e.key === 'Escape') closeLb();
      if(e.key === 'ArrowRight') next();
      if(e.key === 'ArrowLeft') prev();
    });
    nextBtn.addEventListener('click', (e)=>{ e.stopPropagation(); next(); });
    prevBtn.addEventListener('click', (e)=>{ e.stopPropagation(); prev(); });

    lbImg.addEventListener('touchstart', (e)=>{ touchStartX = e.changedTouches[0].clientX; }, {passive:true});
    lbImg.addEventListener('touchend', (e)=>{
      const delta = e.changedTouches[0].clientX - touchStartX;
      if(Math.abs(delta) > 40){ delta < 0 ? next() : prev(); }
    }, {passive:true});

    document.addEventListener('contextmenu', (e)=>{
      if(e.target.closest('#gallery') || e.target.closest('#lightbox')) e.preventDefault();
    });

    /* ìº˜ë¦°ë” */
    (function(){
      const title = 'ìƒë¯¼ â™¥ ì§„í¬ ê²°í˜¼ì‹';
      const locationTxt = 'ë”ì—ìŠ¤ë¹„ì›¨ë”©ì»¨ë²¤ì…˜, ì„œìš¸ ë™ì‘êµ¬ ë³´ë¼ë§¤ë¡œ5ê¸¸ 15';
      const details = 'ìƒë¯¼ â™¥ ì§„í¬ ê²°í˜¼ì‹';
      const dtStartZ = '20251213T050000Z';
      const dtEndZ   = '20251213T070000Z';

      const isProd = location.hostname === 'smjhwedding.github.io';
      const icsUrl = isProd ? 'https://smjhwedding.github.io/sangmin-jinhee-wedding-2025-12-13.ics' : '';

      const ics = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//Wedding Invite//KR
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:wedding-sangmin-jinhee-20251213@example
SUMMARY:${title}
LOCATION:${locationTxt}
DESCRIPTION:${details}
DTSTART:${dtStartZ}
DTEND:${dtEndZ}
END:VEVENT
END:VCALENDAR`;

      const btnAppleSamsung = document.getElementById('btnAppleSamsung');
      const btnGoogle       = document.getElementById('btnGoogle');
      const btnIcsDownload  = document.getElementById('btnIcsDownload');
      const dlHint          = document.getElementById('dlHint');

      const gcalParams = new URLSearchParams({
        action:'TEMPLATE', text:title, details, location:locationTxt, dates:`${dtStartZ}/${dtEndZ}`
      });
      const gcalUrl = `https://calendar.google.com/calendar/render?${gcalParams.toString()}`;
      if (btnGoogle) btnGoogle.href = gcalUrl;

      (function setDownloadLink(){
        if (!btnIcsDownload) return;
        if (isProd && icsUrl){
          btnIcsDownload.href = icsUrl;
          btnIcsDownload.setAttribute('download','sangmin-jinhee-wedding-2025-12-13.ics');
        } else {
          try{
            const blob = new Blob([ics], { type:'text/calendar;charset=utf-8' });
            const blobUrl = URL.createObjectURL(blob);
            btnIcsDownload.href = blobUrl;
            btnIcsDownload.setAttribute('download','sangmin-jinhee-wedding-2025-12-13.ics');
          }catch(_){}
        }
      })();

      function openHostedICS(){ if (!icsUrl) return false; window.open(icsUrl, '_blank'); return true; }
      function openIcsLocal(){
        try{
          const blob = new Blob([ics], { type:'text/calendar;charset=utf-8' });
          const url = URL.createObjectURL(blob);
          window.open(url, '_blank');
          setTimeout(()=> URL.revokeObjectURL(url), 10000);
        }catch(_){}
      }

      if (btnAppleSamsung){
        btnAppleSamsung.addEventListener('click', (e)=>{
          e.preventDefault();
          const ua = navigator.userAgent || '';
          const isAndroid = /Android/i.test(ua);
          const isKakao   = /KAKAOTALK/i.test(ua);

          if (isProd && icsUrl){
            openHostedICS();
            if (isAndroid){
              const msg = isKakao
                ? 'ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ê±°ë‚˜ ìƒˆ ì°½ì´ ì—´ë¦½ë‹ˆë‹¤. ì¹´ì¹´ì˜¤í†¡ ìš°ì¸¡ ìƒë‹¨(â‹®) â†’ ë‹¤ìš´ë¡œë“œ ê´€ë¦¬ì—ì„œ .ics íŒŒì¼ì„ íƒ­í•´ ì£¼ì„¸ìš”.'
                : 'ë‹¤ìš´ë¡œë“œê°€ ì‹œì‘ë˜ê±°ë‚˜ ìƒˆ ì°½ì´ ì—´ë¦½ë‹ˆë‹¤. ì•Œë¦¼ ë˜ëŠ” ë‚´ íŒŒì¼ > Downloadì—ì„œ .ics íŒŒì¼ì„ íƒ­í•´ ì£¼ì„¸ìš”.';
              const tip = document.createElement('div');
              tip.textContent = msg;
              tip.style.cssText = 'position:fixed;left:50%;bottom:22px;transform:translateX(-50%);background:rgba(0,0,0,.85);color:#fff;padding:10px 12px;border-radius:10px;font-size:12px;z-index:9999;max-width:92vw;text-align:center;white-space:pre-line';
              document.body.appendChild(tip);
              setTimeout(()=> tip.remove(), 4200);
              if (dlHint){
                dlHint.style.display='block';
                dlHint.textContent='ì•ˆë“œë¡œì´ë“œ: ì•Œë¦¼/ë‹¤ìš´ë¡œë“œ ëª©ë¡ì—ì„œ .ics íŒŒì¼ì„ íƒ­í•˜ë©´ ìº˜ë¦°ë”ë¡œ ì—´ë¦½ë‹ˆë‹¤.';
              }
            }
          } else {
            openIcsLocal();
          }
        });
      }
    })();

    /* === love each other ìë™-ë§ì¶¤: ì´ë¯¸ì§€ ì•ˆìª½ í­ì— ë§ì¶¤ === */
    function fitLoveWord(){
      const svg = document.querySelector('.hero-svg');
      const word = document.getElementById('loveWord');
      if(!svg || !word) return;

      // ì´ì „ transform ì œê±° í›„ ì¸¡ì •
      word.removeAttribute('transform');

      const vb = svg.viewBox.baseVal;           // 1000 x 600
      const PADDING = 70;                       // ì¢Œìš° ì—¬ë°±(px)
      const maxW = vb.width - PADDING*2;

      const box = word.getBBox();
      if (box.width === 0) return;

      const scale = Math.min(1, maxW / box.width);
      const cx = vb.width / 2;
      const wordCenter = box.x + box.width/2;
      const tx = cx - wordCenter * scale;

      word.setAttribute('transform', `translate(${tx},0) scale(${scale})`);
    }

    // í°íŠ¸ ì‹¤ì œ ë¡œë“œ ì´í›„ ì‹¤í–‰ + ë¦¬ì‚¬ì´ì¦ˆ ëŒ€ì‘
    if (document.fonts && document.fonts.ready) {
      // document.fonts.ready.then(fitLoveWord);
    } else {
      // window.addEventListener('load', fitLoveWord);
    }
    // window.addEventListener('resize', fitLoveWord);

    /* ë³´ì¼€ íŒŒí‹°í´(Canvas) ë³µêµ¬ */
    (function bokehParticles(){
      const layer = document.getElementById('sparkLayer');
      if(!layer) return;
      const cvs = document.createElement('canvas');
      const ctx = cvs.getContext('2d');
      layer.appendChild(cvs);

      let w, h, dpr;
      function resize(){
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        w = layer.clientWidth; h = layer.clientHeight;
        cvs.width = Math.floor(w * dpr); cvs.height = Math.floor(h * dpr);
        cvs.style.width = w + 'px'; cvs.style.height = h + 'px';
      }
      resize(); window.addEventListener('resize', resize);

      const colors = [
        [255,236,214],[255,213,163],[253,222,229],[246,189,197],[255,244,224]
      ];
      const particles = [];
      const COUNT = 42;
      function rnd(a,b){ return a + Math.random()*(b-a); }
      function pick(a){ return a[(Math.random()*a.length)|0]; }
      function spawn(y0){
        const r = rnd(6, 20), c = pick(colors);
        return { x:rnd(-w*0.1, w*1.1), y:y0 ?? rnd(h*0.55, h*1.12), r, vy:rnd(-0.22,-0.08),
                drift:rnd(-0.12,0.12), a:rnd(0.35,0.85), rgb:c, tw:rnd(2,4), t0:Math.random()*6.28 };
      }
      for(let i=0;i<COUNT;i++) particles.push(spawn());

      let scrollY = window.scrollY||0;
      window.addEventListener('scroll', ()=>{ scrollY = window.scrollY||0; });

      function draw(){
        ctx.clearRect(0,0,cvs.width,cvs.height);
        const parallax = scrollY*0.02;
        for(let i=0;i<particles.length;i++){
          const p = particles[i];
          p.x += p.drift; p.y += p.vy;
          if(p.y < -40){ particles[i] = spawn(h + rnd(10,120)); continue; }

          const tw = 0.5 + 0.5*Math.sin((performance.now()/1000)/p.tw + p.t0);
          const alpha = Math.max(0, Math.min(1, p.a*(0.65+0.35*tw)));
          const [r,g,b] = p.rgb, R = p.r;
          const x = p.x*dpr, y = (p.y - parallax)*dpr;

          const grad = ctx.createRadialGradient(x,y,R*0.2*dpr, x,y,R*dpr);
          grad.addColorStop(0, `rgba(${r},${g},${b},${alpha*0.95})`);
          grad.addColorStop(0.6, `rgba(${r},${g},${b},${alpha*0.35})`);
          grad.addColorStop(1, `rgba(${r},${g},${b},0)`);
          ctx.globalCompositeOperation = 'lighter';
          ctx.fillStyle = grad;
          ctx.beginPath(); ctx.arc(x, y, R*dpr, 0, Math.PI*2); ctx.fill();
        }
        requestAnimationFrame(draw);
      }
      requestAnimationFrame(draw);
    })();

    // === LOVE / EACHOTHER ìê°„ ë„“íˆê¸° (ê°€ìš´ë° ì •ë ¬ ìœ ì§€) ===
    // factor(1.00=ì›ë˜í­) ë§Œí¼ ì „ì²´ í­ì„ ëŠ˜ë¦¬ë©´ì„œ ê¸€ìê°„ ê°„ê²©ë§Œ ë²Œë¦¼
    function loosenWord(selector, factor = 1.16) {
      document.querySelectorAll(selector).forEach(t => {
        // ì´ì „ ì„¤ì • ì´ˆê¸°í™” í›„ ì‹¤ì œ í­ ì¸¡ì •
        t.removeAttribute('lengthAdjust');
        t.removeAttribute('textLength');
        const w = t.getBBox().width;
        // ê¸€ì ì‚¬ì´ ê°„ê²©ë§Œ ëŠ˜ë ¤ì„œ text ì „ì²´ë¥¼ factorë°°ë¡œ í™•ì¥
        t.setAttribute('lengthAdjust', 'spacing');
        t.setAttribute('textLength', (w * factor).toFixed(1));
      });
    }

    // í°íŠ¸ê°€ ë¡œë“œëœ ë’¤ì— ì ìš©í•´ì•¼ ì •í™•í•¨
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(() => {
        // ìƒë‹¨ Love, í•˜ë‹¨ EachOther ëª¨ë‘ì— ì ìš©
        loosenWord('.hero-svg text', 1.16); // 1.10~1.20 ì‚¬ì´ì—ì„œ ì·¨í–¥ëŒ€ë¡œ
      });
    } else {
      // êµ¬í˜• ë¸Œë¼ìš°ì € ëŒ€ë¹„: ì•½ê°„ ì§€ì—° í›„ ì ìš©
      setTimeout(() => loosenWord('.hero-svg text', 1.16), 400);
    }

  });
  </script>

</body>
</html>
